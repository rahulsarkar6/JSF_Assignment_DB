<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>Welcome</title>
	
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
	<link rel="stylesheet" type="text/css" href="Bootstrap/css/bootstrap.css"></link>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"></link>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	
</h:head>
<h:body>
	
	<h:form>
		<h:commandButton class="btn btn-primary" style="float:right;" action="#{user.logout}" value="Logout"></h:commandButton>
		<p>Welcome #{user.name}</p>
		
		<br/>
		<h:commandButton class="btn btn-primary" value="Home" action="welcome"></h:commandButton>
									<font color="blue"></font>
									
		<h:commandButton class="btn btn-primary" value="Update Profile" action="profile"></h:commandButton>
									<font color="blue"></font>
									
		<h:commandButton class="btn btn-primary" value="View Managers" action="#{user.checkmanager}"></h:commandButton>
									<font color="blue"></font>		
														
		<h:commandButton class="btn btn-primary" value="View Account Balance" action="viewuserbalance"></h:commandButton>
									<font color="blue"></font>
									
		<h:commandButton class="btn btn-primary" value="Request Purchase" action="requestmanager"></h:commandButton>
									<font color="blue"></font>
		
		<h:commandButton class="btn btn-primary" value="Request Sell" action="requestmanagersell"></h:commandButton>
									<font color="blue"></font>
																
		<h:commandButton class="btn btn-primary" value="Sell Stock" action="sellstock"></h:commandButton>
									<font color="blue"></font>
		
		<h:commandButton class="btn btn-primary" value="Watchlist" action="watchlist"></h:commandButton>
									<font color="blue"></font>							
	</h:form>
	
	<div class="container" align="center">
		<div class="col-sm-10" style="width: 800px; margin-left: 250; margin-top:20px">
			<div class="jumbotron">
				<p>Your current Account Balance is : #{user.viewbalance()}</p>
				
				
			
						<p>Your Account History and Purchased Stock Details : </p>
							<h:form styleClass="form-horizontal" action="#{purchase.purchase}">
								<h:dataTable value="#{purchase.purchase}" var= "m" styleClass="order-table" headerClass="order-table-header" rowClasses="order-table-odd-row,order-table-even-row" border="1">
											
											<h:column>    				
							              		<f:facet name="header">Stock Name</f:facet>
							    				<h:outputText value=" #{m.stock_symbol}"></h:outputText>
							    			</h:column>
											
											<h:column>    				
							              		<f:facet name="header">Quantity</f:facet>
							    				<h:outputText value=" #{m.qty}"></h:outputText>
							    			</h:column>		
							            	
							            	<h:column>    				
							              		<f:facet name="header">Purchase Date</f:facet>
							    				<h:outputText value=" #{m.date}"></h:outputText>
							    			</h:column>
							    			
							    			<h:column>    				
							              		<f:facet name="header">Purchase Amount</f:facet>
							    				<h:outputText value=" #{m.amt}"></h:outputText>
							    			</h:column>
							    			
											</h:dataTable>
							</h:form>
				
			</div>
		</div>
	</div>
	
	
	
	
	<div class="container" align="center">
		<div class="col-sm-10" style="width: 800px; margin-left: 250; margin-top:20px">
			<div class="jumbotron">
	
					<div class="well">
		                <legend>Search Data</legend>
		
		                <div class="row">
		
		                    <h:form>
		                        <label for="sel1">Stock: </label>
		                        <h:selectOneMenu id="symbol" value="#{stockApiBean2.selectedSymbol}">
		                            <f:selectItems value="#{stockApiBean2.availableSymbols}" />
		                        </h:selectOneMenu>
		
		                        <label for="sel1">Interval: </label>
		                        <h:selectOneMenu id="interval" value="#{stockApiBean2.selectedInterval}">
		                            <f:selectItems value="#{stockApiBean2.availableIntervals}" />
		                        </h:selectOneMenu>
		                        <br />
		                        <h:commandButton value="Get Data" action="#{stockApiBean2.timeseries}" styleClass="btn btn-success" />
		                    </h:form>
		                </div>
		
		                <h:panelGroup rendered="#{not empty stockApiBean2.table1Markup}">
		                    <h:outputText value="#{stockApiBean2.table1Markup}" escape="false" styleClass="preformatted" />
		                </h:panelGroup>
		
		                <h:panelGroup rendered="#{not empty stockApiBean2.table2Markup}">
		                    <h:outputText value="#{stockApiBean2.table2Markup}" escape="false" styleClass="preformatted" />
		                </h:panelGroup>
		            </div>
         	 </div>
       	</div>
     </div>
   
</h:body>
</html>
